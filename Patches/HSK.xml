<?xml version="1.0" encoding="UTF-8"?>
<Patch>

	<Operation Class="PatchOperationFindMod">
	<mods>
		<li>Vanilla Furniture Expanded SK</li>
	</mods>
		<match Class="PatchOperationSequence">
			<operations>
		
				<!-- ========== End Table ========== -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="Table_LightEndTable"]/researchPrerequisites</xpath>
					<value>
						<researchPrerequisites>
							<li>Beds_C2</li>
						</researchPrerequisites>
					</value>
				</li>

				<!-- ========== Street Light ========== -->

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="Light_Streetlamp"]</xpath>
					<value>
						<researchPrerequisites>
							<li>Light_C3</li>
						</researchPrerequisites>
					</value>
				</li>
				
				<!-- ========== Square Chair ========== -->

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="Seat_SquareChair"]/researchPrerequisites</xpath>
					<value>
							<li>Tables_B2</li>
					</value>
				</li>

				<!-- ========== Stone Campfire ========== -->
<!--
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="Stone_Campfire"]/comps/li[@Class="CompProperties_Refuelable"]</xpath>			
					<value>
						<li Class="SK.CompFueled_Properties">
							<operatingTemp>300</operatingTemp>
							<fireDrawOffset>(0,0.15,0.1)</fireDrawOffset>
							<smokeDrawOffset>(0,0,0.1)</smokeDrawOffset>
							<fuelDrawOffset>(0,0.1,0.01)</fuelDrawOffset>
							<fuelDrawScale>0.7</fuelDrawScale>
							<fuelCapacity>30</fuelCapacity>
							<burnFuelMultiplier>0.6</burnFuelMultiplier>
							<smokesize>0.3</smokesize>
							<canAutoBurn>true</canAutoBurn>
							<effectOnWeather>true</effectOnWeather>
							<smokeDensity>2</smokeDensity>
							<fuelFilter>
								<thingDefs>
									<li>Charcoal</li>
									<li>Coal</li>
									<li>Kindling</li>
								</thingDefs>
								<categories>
									<li>Wooden</li>
									<li>Woody</li>
								</categories> 
							</fuelFilter>
						</li>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="Stone_Campfire"]/comps/li[@Class="CompProperties_HeatPusher"]</xpath>			
					<value>
						<li Class="SK.CompProperties_HeatPusherAdvanced">
							<compClass>SK.CompHeatPusherAdvanced</compClass>
							<heatPerSecond>15</heatPerSecond>
							<heatPushMaxTemperature>24</heatPushMaxTemperature>
						</li>
					</value>
				</li>
				
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="Stone_Campfire"]/comps/li[@Class="CompProperties_FireOverlay"]</xpath>			
					<value>
						<li Class="SK.CompProperties_FireOverlayMod">
							<fireSize>0.8</fireSize>
							<offset>(0,0,0.28)</offset>
						</li>
					</value>
				</li>
			-->
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="Stone_Campfire"]/inspectorTabs</xpath>			
					<value>
						<li>SK.ITab_Fuel</li>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="Stone_Campfire"]/comps</xpath>			
					<value>
					<comps>
						<li>
							<compClass>CompGatherSpot</compClass>
						</li>
						<li Class="CompProperties_Glower">
							<glowRadius>12</glowRadius>
							<glowColor>(252,187,113,0)</glowColor>
						</li>
						<li Class="SK.CompProperties_HeatPusherAdvanced">
							<compClass>SK.CompHeatPusherAdvanced</compClass>
							<heatPerSecond>15</heatPerSecond>
							<heatPushMaxTemperature>24</heatPushMaxTemperature>
						</li>
						<li Class="SK.CompFueled_Properties">
							<operatingTemp>300</operatingTemp>
							<fireDrawOffset>(0,0.15,0.1)</fireDrawOffset>
							<smokeDrawOffset>(0,0,0.1)</smokeDrawOffset>
							<fuelDrawOffset>(0,0.1,0.01)</fuelDrawOffset>
							<fuelDrawScale>0.7</fuelDrawScale>
							<fuelCapacity>30</fuelCapacity>
							<burnFuelMultiplier>0.6</burnFuelMultiplier>
							<smokesize>0.3</smokesize>
							<canAutoBurn>true</canAutoBurn>
							<effectOnWeather>true</effectOnWeather>
							<smokeDensity>2</smokeDensity>
							<fuelFilter>
								<thingDefs>
									<li>Charcoal</li>
									<li>Coal</li>
									<li>Kindling</li>
								</thingDefs>
								<categories>
									<li>Wooden</li>
									<li>Woody</li>
								</categories> 
							</fuelFilter>
						</li>
						<li Class="CompProperties_MeditationFocus">
							<statDef>MeditationFocusStrength</statDef>
							<focusTypes>
								<li>Flame</li>
							</focusTypes>
							<offsets>
								<li Class="FocusStrengthOffset_Lit">
									<offset>0.12</offset>
								</li>
								<li Class="FocusStrengthOffset_BuildingDefsLit">
									<defs>
										<li>Campfire</li>
										<li>BowlLamp</li>
										<li>Candle</li>
										<li>TorchLamp</li>
										<li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
										<li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
										<li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
										<li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
									</defs>
									<radius>9.9</radius>
									<maxBuildings>8</maxBuildings>
									<offsetPerBuilding>0.02</offsetPerBuilding>
									<explanationKey>MeditationFocusPerFlame</explanationKey>
									<explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
								</li>
							</offsets>
						</li>
					</comps>
					</value>
				</li>
			
			</operations>
		</match>
    </Operation>
	
</Patch>